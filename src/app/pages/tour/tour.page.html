<app-header title="{{ 'tour.title' | translate }}"></app-header>

<ion-content class="background-screen">

    <ion-list class="background-transparent">
        <ion-item-sliding *ngFor="let spot of spots; let i = index">

            <ion-item-options side="end">
                <ion-item-option color="danger" (click)="delete(spot)">
                    <ion-icon slot="icon-only" name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>

            <ion-item >
                <ion-thumbnail slot="start">
                    <img [src]="spot.images.length > 0 ? (spot.images[0] | composeUrl) : 'assets/img/no-image-spot.jpg' " />
                </ion-thumbnail>
                <ion-grid fixed>
                    <ion-row>
                        <ion-col size="12">
                            <ion-label>{{ spot.name }}</ion-label>
                        </ion-col>
                    </ion-row>
                    <ion-row>
                        <ion-col size="6" class="ion-align-self-center">
                            <ion-label class="ion-text-lft" color="medium">{{ 'tour.priority.title' | translate }}:</ion-label>
                        </ion-col>
                        <ion-col size="6" class="ion-align-self-center">
                            <ion-label class="ion-text-right" color="medium">
                                <ion-chip color="primary" (click)="changePriority(spot)">
                                    <ion-icon name="time-outline"></ion-icon>
                                    <ion-label class="ion-text-capitalize">{{ getPriorityText(spot.priority.value) }}</ion-label>
                                </ion-chip>
                            </ion-label>
                        </ion-col>
                    </ion-row>
                </ion-grid>
            </ion-item>            

        </ion-item-sliding>

    </ion-list>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="toCategories()">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

</ion-content>

<ion-footer>
    <ion-button expand="full" size="large" class="ion-no-margin" (click)="selectMode()" [disabled]="empty">
        {{ 'tour.button' | translate }}
    </ion-button>
</ion-footer>
