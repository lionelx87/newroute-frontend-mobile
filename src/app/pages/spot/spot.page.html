<!-- <ion-header>
  <ion-toolbar>
    <ion-title>spot</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content>

  <ion-fab vertical="top" horizontal="start" slot="fixed">
    <ion-fab-button (click)="close()">
      <ion-icon name="arrow-back-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-fab *ngIf="userLogged" vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="recommend()" [color]="checkRecommended" [disabled]="loading">
      <ion-icon name="thumbs-up-outline"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-grid>
    <!-- Image -->
    <ion-row>
      <ion-col size="12" class="img-box">
        <img [src]="spot.images[0] | composeUrl" [alt]="spot.name">
      </ion-col>
    </ion-row>

    <!-- Title and Ranking -->
    <ion-row class="ion-justify-content-between ion-align-items-center title-row">
        <span class="title">
          {{ spot.name }}
        </span>
        <span>
          <ion-label class="valoration">
            {{ spot.valoration.rating }}
            <ion-icon name="star"></ion-icon>
          </ion-label>
        </span>      
    </ion-row>

    <ion-row class="ion-justify-content-end ion-align-items-center title-row">
      <span>({{ spot.valoration.users }} {{ 'spots.reviews' | translate }})</span>
    </ion-row>

    

    <!-- Buttons Options -->
    <ion-row class="btn-row">
      <ion-col size="3" class="btn-box">
        <ion-button class="btn-option" fill="clear" (click)="addToTour()">
          <div>
            <ion-icon size="large" name="add-outline"></ion-icon>
            <span class="txt-option">{{ 'spots.tour' | translate }}</span>
          </div>
        </ion-button>
      </ion-col>

      <ion-col size="3" class="btn-box">
        <ion-button class="btn-option" fill="clear" (click)="viewMap()">
          <div>
            <ion-icon size="large" name="map-outline"></ion-icon>
            <span class="txt-option">{{ 'spots.map' | translate }}</span>
          </div>
        </ion-button>
      </ion-col>

      <ion-col size="3" class="btn-box">
        <ion-button class="btn-option" fill="clear" (click)="viewGallery()">
          <div>
            <ion-icon size="large" name="images-outline"></ion-icon>
            <span class="txt-option">{{ 'spots.gallery' | translate }}</span>
          </div>
        </ion-button>
      </ion-col>

      <ion-col size="3" class="btn-box">
        <ion-button *ngIf="userLogged" class="btn-option" fill="clear" (click)="rate($event)">
          <div>
            <ion-icon size="large" [name]="checkRate"></ion-icon>
            <span class="txt-option">{{ 'spots.rate' | translate }}</span>
          </div>
        </ion-button>
      </ion-col>
    </ion-row>

    <!-- Description -->
    <ion-row style="margin-top: 15px;" >
      <ion-col size="12">
        {{ spot.description }}
      </ion-col>
      <ion-col size="12">

        <ion-list>
          <ion-item>
            <ion-icon name="location-outline" slot="start"></ion-icon>
            <ion-label>{{ spot.address }}</ion-label>
          </ion-item>
          <ion-item>
            <ion-icon name="call-outline" slot="start"></ion-icon>
            <ion-label>{{ spot.phones[0]? spot.phones[0].number : 'spots.phone' | translate }}</ion-label>
          </ion-item>
        </ion-list>

      </ion-col>
    </ion-row>

  </ion-grid>

</ion-content>

<ion-footer>
  <ion-button expand="full" size="large" class="ion-no-margin" [disabled]="!hasComments" (click)="openComments()">
    <ion-icon slot="start" name="chatbubbles-outline"></ion-icon>
    <ion-label class="ion-text-capitalize">{{ 'spots.comments' | translate }} ( {{ spot.comments.length }} )</ion-label>
  </ion-button>
</ion-footer>

